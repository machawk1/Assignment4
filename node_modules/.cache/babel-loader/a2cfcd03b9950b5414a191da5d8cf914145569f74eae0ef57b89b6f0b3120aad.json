{"ast":null,"code":"import React,{useEffect,useState}from'react';import Podcast from'./Podcast.js';import Song from'./Song.js';import ShuffleToggle from'./Shuffle.js';import PlayandPauseToggle from'./Play.js';import PreviousToggle from'./Previous.js';import NextToggle from'./Next.js';import Status from'./StatusComp.js';import'../App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UpdatedPlaylist=()=>{const[playlist,setPlaylist]=useState([]);const[currentTrackIndex,setCurrentTrackIndex]=useState(0);const[isPlaying,setIsPlaying]=useState(false);const[status,setStatus]=useState('');useEffect(()=>{const fetchAudioTracks=async()=>{const response=await fetch('http://localhost:3001/tracks');const data=await response.json();setPlaylist(data);};fetchAudioTracks();},[]);const manageShuffle=()=>{console.log('Shuffling');const shuffledPlaylist=shuffleArray([...playlist]);setPlaylist(shuffledPlaylist);setCurrentTrackIndex(0);};const managePlayPause=()=>{setIsPlaying(!isPlaying);console.log('test');console.log(playlist[currentTrackIndex]);if(status.includes('Playing')){setStatus('Paused');}else if(playlist[currentTrackIndex].episodeTitle){setStatus('Playing: ${playlist[currentTrackIndex].episodeTitle}');}else{setStatus('Playing: ${playlist[currentTrackIndex].title}');}};const manageDoubleClick=(title,episodeTitle)=>{if(episodeTitle){setStatus('Playing: ${episodeTitle}');}else{setStatus('Playing: ${title}');}};const shuffleArray=array=>{for(let i=array.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[array[1],array[j]]=[array[j],array[i]];}return array;};const previousToggle=()=>{setCurrentTrackIndex(previousIndex=>previousIndex===0?playlist.length-1:previousIndex-1);if(playlist[currentTrackIndex].episodeTitle){setStatus(\"playing: \".concat(playlist[currentTrackIndex].episodeTitle));}else{setStatus(\"playing: \".concat(playlist[currentTrackIndex].title));}};const nextToggle=()=>{console.log('nextToggle is running');setCurrentTrackIndex(previousIndex=>previousIndex===playlist.length-1?0:previousIndex+1);if(playlist[currentTrackIndex].episodeTitle){setStatus(\"playing: \".concat(playlist[currentTrackIndex].episodeTitle));}else{setStatus(\"playing: \".concat(playlist[currentTrackIndex].title));}};function foo(){console.log('foo');}return/*#__PURE__*/_jsxs(\"div\",{className:\"shuffled-playlist\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Playlist\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Click a title to play!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"player-Controls\",children:[/*#__PURE__*/_jsx(ShuffleToggle,{theAction:manageShuffle,anotherFunction:foo}),/*#__PURE__*/_jsx(PlayandPauseToggle,{isPlaying:isPlaying,onClick:managePlayPause}),/*#__PURE__*/_jsx(PreviousToggle,{theAction:previousToggle}),/*#__PURE__*/_jsx(NextToggle,{theAction:nextToggle})]}),/*#__PURE__*/_jsx(\"div\",{className:\"status\",status:status}),playlist.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"playlist-item\",style:{padding:'2px',backgroundColor:index===currentTrackIndex?'#ccc':'Transparent'},onDoubleClick:()=>manageDoubleClick(item.title,item.episodeTitle),children:[item.title&&item.artist&&item.year&&/*#__PURE__*/_jsx(Song,{title:item.title,artist:item.artist,year:item.year}),item.episode&&item.episodeTitle&&/*#__PURE__*/_jsx(Podcast,{episode:item.episode,episodeTitle:item.episodeTitle,season:item.season})]},index))]});};export default UpdatedPlaylist;","map":{"version":3,"names":["React","useEffect","useState","Podcast","Song","ShuffleToggle","PlayandPauseToggle","PreviousToggle","NextToggle","Status","jsx","_jsx","jsxs","_jsxs","UpdatedPlaylist","playlist","setPlaylist","currentTrackIndex","setCurrentTrackIndex","isPlaying","setIsPlaying","status","setStatus","fetchAudioTracks","response","fetch","data","json","manageShuffle","console","log","shuffledPlaylist","shuffleArray","managePlayPause","includes","episodeTitle","manageDoubleClick","title","array","i","length","j","Math","floor","random","previousToggle","previousIndex","concat","nextToggle","foo","className","children","theAction","anotherFunction","onClick","map","item","index","style","padding","backgroundColor","onDoubleClick","artist","year","episode","season"],"sources":["/private/tmp/Assignment4/src/Components/UpdatedPlaylist.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport Podcast from './Podcast.js';\nimport Song from './Song.js';\nimport ShuffleToggle from './Shuffle.js';\nimport PlayandPauseToggle from './Play.js';\nimport PreviousToggle from './Previous.js';\nimport NextToggle from './Next.js'\nimport Status from './StatusComp.js'\nimport '../App.css';\n\n\n\nconst UpdatedPlaylist = () => {\n    const[playlist, setPlaylist] = useState([]);\n    const[currentTrackIndex, setCurrentTrackIndex] = useState(0);\n    const[isPlaying, setIsPlaying] = useState(false);\n    const[status, setStatus] = useState('');\n\n\nuseEffect(() => {\n    const fetchAudioTracks = async () => {\n    const response = await fetch('http://localhost:3001/tracks');\n    const data = await response.json();\n    setPlaylist(data);\n};\n\nfetchAudioTracks();\n}, []);\n\n\nconst manageShuffle = () => {\n    console.log('Shuffling')\n    const shuffledPlaylist = shuffleArray([...playlist]);\n    setPlaylist(shuffledPlaylist);\n    setCurrentTrackIndex(0);\n};\n\nconst managePlayPause = () => {\n    setIsPlaying(!isPlaying);\n    console.log('test')\n    console.log(playlist[currentTrackIndex])\n    if (status.includes('Playing')) {\n        setStatus('Paused');\n    } else if (playlist[currentTrackIndex].episodeTitle) {\n      setStatus('Playing: ${playlist[currentTrackIndex].episodeTitle}');\n    } else {\n        setStatus('Playing: ${playlist[currentTrackIndex].title}');\n    }   \n\n};\n\nconst manageDoubleClick = (title, episodeTitle) => {\n    if (episodeTitle) {\n        setStatus('Playing: ${episodeTitle}');\n    } else {\n        setStatus('Playing: ${title}');\n    }\n};\n\nconst shuffleArray = (array) => {\n    for (let i = array.length - 1; i >0; i--) {\n        const j = Math.floor(Math.random()*(i+1));\n        [array[1], array[j]] = [array[j], array[i]];\n    }\n    return array;\n};\n\n\nconst previousToggle = () => {\n    setCurrentTrackIndex((previousIndex)=> (previousIndex=== 0 ? playlist.length-1 : previousIndex-1));\n    if(playlist[currentTrackIndex].episodeTitle) {\n        setStatus(`playing: ${playlist[currentTrackIndex].episodeTitle}`);\n    } else {\n        setStatus(`playing: ${playlist[currentTrackIndex].title}`);\n    }\n\n};\n\n\n\n\nconst nextToggle = () => {\n    console.log('nextToggle is running')\n    setCurrentTrackIndex((previousIndex)=> (previousIndex=== playlist.length-1 ? 0 : previousIndex +1 ));\n    if(playlist[currentTrackIndex].episodeTitle) {\n        setStatus(`playing: ${playlist[currentTrackIndex].episodeTitle}`);\n    } else {\n        setStatus(`playing: ${playlist[currentTrackIndex].title}`);\n\n    }\n  \n};\n\nfunction foo () {\n    console.log('foo')\n}\n\nreturn (\n    <div className='shuffled-playlist'>\n      <h3>Playlist</h3>\n      <h4>Click a title to play!</h4>\n      <div className='player-Controls'>\n        <ShuffleToggle theAction={manageShuffle} anotherFunction={foo} />\n        <PlayandPauseToggle isPlaying={isPlaying} onClick={managePlayPause} />\n        <PreviousToggle theAction={previousToggle} />\n        <NextToggle theAction={nextToggle} />\n      </div>\n      <div className='status' status={status}></div> \n      {playlist.map((item, index) => (\n        <div  \n          key={index}\n          className=\"playlist-item\"\n          style={{ padding: '2px', backgroundColor: index === currentTrackIndex ? '#ccc' : 'Transparent'}}\n          onDoubleClick={() => manageDoubleClick(item.title, item.episodeTitle)}\n        >\n            {item.title && item.artist && item.year && (\n                <Song title={item.title} artist={item.artist} year={item.year} />\n            )}\n            {item.episode && item.episodeTitle && ( \n                <Podcast\n                    episode={item.episode}\n                    episodeTitle={item.episodeTitle}\n                    season={item.season}\n                />\n            )}\n        </div>\n      ))}\n    </div>\n  );\n            }\n\nexport default UpdatedPlaylist;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}